{"version":3,"file":"canvas-extra-min.js","sources":["canvas-extra.js"],"names":["CanvasRenderingContext2D","prototype","__defineGetter__","this","canvas","width","height","blackAndWhite","t","getImageData","e","data","length","n","putImageData","flipVertically","save","scale","translate","drawImage","restore","flipHorizontally","turn","document","createElement","style","display","body","appendChild","getContext","Math","PI","rotate","removeChild","resize","isPortrait","_urlDropped","i","o","s","a","addEventListener","min","strokeStyle","lineWidth","strokeRect","src","initDnD","preventDefault","dataTransfer","clientX","scrollLeft","documentElement","clientY","scrollTop","offsetLeft","parentNode","offsetTop","files","types","contains","getData","FileReader","onload","target","result","readAsDataURL","poster","fillStyle","fillRect","textAlign","textBaseline","font","fillText","initCrop","isMobile","initCrop_mobile","initCrop_desktop","h","d","removeEventListener","crop","id","r","c","left","top","offsetWidth","offsetHeight"],"mappings":"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"}