{"version":3,"file":"CANVAS-min.js","sources":["CANVAS.js"],"names":["FbCanvas","Class","Implements","Options","layers","ctx","ctxEl","lastMouseOverTarget","dragTarget","threads","ctxPos","cacheCtxPos","initialize","options","this","setOptions","canvasElement","setCtx","LayerHash","enableMouse","setupMouse","Hash","getPosition","setDrag","item","fullid","clearDrag","getMouse","e","event","pageX","x","pageY","y","addEvents","click","p","findTarget","fireEvent","bind","mousedown","fromPath","mouseup","mousemove","dblclick","mouseleave","el","document","getElementById","getContext","getCtx","contains","r","path","split","get","layerFromPath","layer","items","i","length","getClean","interactive","dims","addThread","thread","Thread","set","id","removeThread","destroy","erase","clear","rect","clearRect","draw"],"mappings":";AAaA,IAAIA,SAAW,IAAIC,MAAM,CAExBC,WAAY,CAACC,SACbC,OAAS,GACTC,IAAM,KACNC,MAAQ,KACRC,oBAAsB,KACtBC,WAAa,KACbC,QAAU,KACVC,OAAS,KACTC,YAAc,CAAA,EAEdC,WAAa,SAAUC,GAYtB,OAXAC,KAAKC,WAAWF,CAAO,EACpBA,EAAQG,eAAeF,KAAKG,OAAOJ,EAAQG,aAAa,EAC3DF,KAAKV,OAAS,IAAIc,UAEfL,EAAQM,aAAYL,KAAKM,WAAW,EACpCP,EAAQF,cAAYG,KAAKH,YAAcG,KAAKD,QAAQF,aAEvDG,KAAKL,QAAU,IAAIY,KAEnBP,KAAKJ,OAASI,KAAKR,MAAMgB,YAAY,EAE9BR,IACR,EAEAS,QAAU,SAAUC,GAEnBV,KAAKN,WAAagB,EAAKC,MACxB,EAEAC,UAAY,WAEXZ,KAAKN,WAAa,IACnB,EAEAmB,SAAW,SAASC,GACnB,IAAIlB,EAASI,KAAKH,YAAcG,KAAKJ,OAASI,KAAKR,MAAMgB,YAAY,EACrE,MAAO,CACNM,EAAEC,MAAMC,MAAQpB,EAAOqB,EACvBH,EAAEC,MAAMG,MAAQtB,EAAOuB,EAEzB,EAEAb,WAAa,WACZN,KAAKR,MAAM4B,UAAU,CACpBC,MAAQ,SAASP,GAEhB,IACIJ,EADAY,EAAItB,KAAKa,SAASC,CAAC,GAEpBJ,EAAOV,KAAKuB,WAAWD,CAAC,IAE1BZ,EAAKc,UAAU,QAAQF,CAAC,CAE1B,EAAEG,KAAKzB,IAAI,EAEX0B,UAAY,SAASZ,GAEpB,IAMIJ,EANAY,EAAItB,KAAKa,SAASC,CAAC,EACpBd,KAAKN,WAEPM,KAAK2B,SAAS3B,KAAKN,UAAU,EAAE8B,UAAU,YAAYF,CAAC,GAIpDZ,EAAOV,KAAKuB,WAAWD,CAAC,IAE1BZ,EAAKc,UAAU,YAAYF,CAAC,CAE9B,EAAEG,KAAKzB,IAAI,EAEX4B,QAAU,SAASd,GAElB,IAOIJ,EAPAY,EAAItB,KAAKa,SAASC,CAAC,EACpBd,KAAKN,WAEPM,KAAK2B,SAAS3B,KAAKN,UAAU,EAAE8B,UAAU,UAAUF,CAAC,GAKlDZ,EAAOV,KAAKuB,WAAWD,CAAC,IAE1BZ,EAAKc,UAAU,UAAUF,CAAC,CAE5B,EAAEG,KAAKzB,IAAI,EAEX6B,UAAY,SAASf,GAEpB,IAOIJ,EAPAY,EAAItB,KAAKa,SAASC,CAAC,EACpBd,KAAKN,WAEPM,KAAK2B,SAAS3B,KAAKN,UAAU,EAAE8B,UAAU,YAAYF,CAAC,GAKpDZ,EAAOV,KAAKuB,WAAWD,CAAC,GAEvBZ,EAAKC,QAAUX,KAAKP,qBAEtBiB,EAAKc,UAAU,YAAYF,CAAC,EACzBtB,KAAKP,qBAEPO,KAAK2B,SAAS3B,KAAKP,mBAAmB,EAAE+B,UAAU,WAAWF,CAAC,EAE/DtB,KAAKP,oBAAsBiB,EAAKC,QAIhCD,EAAKc,UAAU,YAAYF,CAAC,EAK1BtB,KAAKP,sBAEPO,KAAK2B,SAAS3B,KAAKP,mBAAmB,EAAE+B,UAAU,WAAWF,CAAC,EAC9DtB,KAAKP,oBAAsB,KAG9B,EAAEgC,KAAKzB,IAAI,EAEX8B,SAAW,SAAShB,GAEnB,IACIJ,EADAY,EAAItB,KAAKa,SAASC,CAAC,GAEpBJ,EAAOV,KAAKuB,WAAWD,CAAC,IAC1BZ,EAAKc,UAAU,WAAWF,CAAC,CAC7B,EAAEG,KAAKzB,IAAI,EAEX+B,WAAa,SAASjB,GACjBQ,EAAItB,KAAKa,SAASC,CAAC,EAEpBd,KAAKN,aACPM,KAAK2B,SAAS3B,KAAKN,UAAU,EAAE8B,UAAU,UAAUF,CAAC,EACpDtB,KAAKN,WAAa,MAGhBM,KAAKP,sBACPO,KAAK2B,SAAS3B,KAAKP,mBAAmB,EAAE+B,UAAU,WAAWF,CAAC,EAC9DtB,KAAKP,oBAAsB,KAE7B,EAAEgC,KAAKzB,IAAI,CACZ,CAAC,CACF,EAEAG,OAAS,SAAU6B,GAElBhC,KAAKR,MAAuB,UAAf,OAAM,EAAoBwC,EAAKC,SAASC,eAAeF,CAAE,EACtEhC,KAAKT,IAAMyC,EAAGG,WAAW,IAAI,CAC9B,EAEAC,OAAS,WACR,OAAOpC,KAAKT,GACb,EAEA8C,SAAW,SAASC,EAAEhB,GACrB,OAAOA,EAAE,IAAMgB,EAAE,IAAMhB,EAAE,IAAMgB,EAAE,IAAMhB,EAAE,IAAMgB,EAAE,GAAKA,EAAE,IAAMhB,EAAE,IAAMgB,EAAE,GAAKA,EAAE,EAChF,EAEAX,SAAW,SAAUY,GAGpB,OADAA,EAAOA,EAAKC,MAAM,GAAG,EACdxC,KAAKV,OAAOmD,IAAIF,EAAK,EAAE,EAAEE,IAAIF,EAAK,EAAE,CAC5C,EAEAG,cAAgB,SAAUH,GAGzB,OADAA,EAAOA,EAAKC,MAAM,GAAG,EACdxC,KAAKV,OAAOmD,IAAIF,EAAK,EAAE,CAC/B,EAEAhB,WAAa,SAASD,GAErB,IAAI,IAAuCqB,EAEtCC,EACIlC,EAHDmC,EAAI7C,KAAKV,OAAOA,OAAOwD,OAAS,EAAiBH,EAAQ3C,KAAKV,OAAOA,OAAOuD,GAAIA,CAAC,GAGxF,IAAQnC,KAAQkC,EADJD,EAAMC,MAAMG,SAAS,EAGhC,GAAGH,EAAMlC,GAAMsC,aAAeJ,EAAMlC,GAAMuC,MAEtCjD,KAAKqC,SAASO,EAAMlC,GAAMuC,KAAK3B,CAAC,EAClC,OAAOsB,EAAMlC,GAKjB,MAAO,CAAA,CACR,EAEAwC,UAAY,SAAUC,GAOrB,OALIA,EAAOpD,UAAQoD,EAAS,IAAIC,OAAOD,CAAM,GAC7CnD,KAAKL,QAAQ0D,IACZF,EAAOpD,QAAQuD,GACfH,CACD,EACOA,CACR,EAEAI,aAAe,SAAUD,GAEvBtD,KAAKL,QAAQ8C,IAAKa,CAAG,EAAEE,QAAQ,EAC/BxD,KAAK4C,MAAMa,MAAOH,CAAG,CACvB,EAEAI,MAAQ,SAASC,GAShB,OAPAA,EAAOA,GAAQ,CACb,EACA,EACA3D,KAAKR,MAAMiD,IAAI,OAAO,EACtBzC,KAAKR,MAAMiD,IAAI,QAAQ,GAEzBzC,KAAKT,IAAIqE,UAAUD,EAAK,GAAGA,EAAK,GAAGA,EAAK,GAAGA,EAAK,EAAE,EAC3C3D,IACR,EAEA6D,KAAO,WAEN7D,KAAKV,OAAOuE,KAAK,CAClB,CAED,CAAC"}