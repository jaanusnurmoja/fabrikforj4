/*! Fabrik */
"function"!=typeof Object.create&&(Object.create=function(o){function e(){}return e.prototype=o,new e}),function(d,t){var i={init:function(o,e){var i,t=this;t.elem=e,t.$elem=d(e),t.options=d.extend({},d.fn.ezPlus.options,t.responsiveConfig(o||{})),t.imageSrc=t.$elem.attr("data-"+t.options.attrImageZoomSrc)?t.$elem.attr("data-"+t.options.attrImageZoomSrc):t.$elem.attr("src"),t.options.enabled&&(t.options.tint&&(t.options.lensColour="transparent",t.options.lensOpacity="1"),"inner"===t.options.zoomType&&(t.options.showLens=!1),"lens"===t.options.zoomType&&(t.options.zoomWindowWidth=0),-1===t.options.zoomId&&(t.options.zoomId=(i=(new Date).getTime(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var e=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"===o?e:3&e|8).toString(16)}))),t.$elem.parent().removeAttr("title").removeAttr("alt"),t.zoomImage=t.imageSrc,t.refresh(1),e=t.options.galleryEvent+".ezpspace",e+=t.options.touchEnabled?" touchend.ezpspace":"",t.$galleries=d(t.options.gallery?"#"+t.options.gallery:t.options.gallerySelector),t.$galleries.on(e,t.options.galleryItem,function(o){if(t.options.galleryActiveClass&&(d(t.options.galleryItem,t.$galleries).removeClass(t.options.galleryActiveClass),d(this).addClass(t.options.galleryActiveClass)),"A"===this.tagName&&o.preventDefault(),d(this).data(t.options.attrImageZoomSrc)?t.zoomImagePre=d(this).data(t.options.attrImageZoomSrc):t.zoomImagePre=d(this).data("image"),t.swaptheimage(d(this).data("image"),t.zoomImagePre),"A"===this.tagName)return!1}))},refresh:function(o){var e=this;setTimeout(function(){e.fetch(e.imageSrc,e.$elem,e.options.minZoomLevel)},o||e.options.refresh)},fetch:function(o,e,i){var t=this,n=new Image;n.onload=function(){n.width/e.width()<=i?t.largeWidth=e.width()*i:t.largeWidth=n.width,n.height/e.height()<=i?t.largeHeight=e.height()*i:t.largeHeight=n.height,t.startZoom(),t.currentImage=t.imageSrc,t.options.onZoomedImageLoaded(t.$elem)},t.setImageSource(n,o)},setImageSource:function(o,e){o.src=e},startZoom:function(){var o,t=this;t.nzWidth=t.$elem.width(),t.nzHeight=t.$elem.height(),t.isWindowActive=!1,t.isLensActive=!1,t.isTintActive=!1,t.overWindow=!1,t.options.imageCrossfade&&(o=d('<div class="zoomWrapper"/>').css({height:t.nzHeight,width:t.nzWidth}),t.$elem.parent().hasClass("zoomWrapper")&&t.$elem.unwrap(),t.zoomWrap=t.$elem.wrap(o),t.$elem.css({position:"absolute"})),t.zoomLock=1,t.scrollingLock=!1,t.changeBgSize=!1,t.currentZoomLevel=t.options.zoomLevel,t.updateOffset(t),t.widthRatio=t.largeWidth/t.currentZoomLevel/t.nzWidth,t.heightRatio=t.largeHeight/t.currentZoomLevel/t.nzHeight,"window"===t.options.zoomType&&(t.zoomWindowStyle={display:"none",position:"absolute",height:t.options.zoomWindowHeight,width:t.options.zoomWindowWidth,border:t.options.borderSize+"px solid "+t.options.borderColour,backgroundSize:t.largeWidth/t.currentZoomLevel+"px "+t.largeHeight/t.currentZoomLevel+"px",backgroundPosition:"0px 0px",backgroundRepeat:"no-repeat",backgroundColor:""+t.options.zoomWindowBgColour,overflow:"hidden",zIndex:100}),"inner"===t.options.zoomType&&(t.zoomWindowStyle=(o=t.$elem.css("border-left-width"),t.options.scrollZoom&&(t.zoomLens=d('<div class="zoomLens"/>')),{display:"none",position:"absolute",height:t.nzHeight,width:t.nzWidth,marginTop:o,marginLeft:o,border:t.options.borderSize+"px solid "+t.options.borderColour,backgroundPosition:"0px 0px",backgroundRepeat:"no-repeat",cursor:t.options.cursor,overflow:"hidden",zIndex:t.options.zIndex})),"window"===t.options.zoomType&&(t.lensStyle=(t.nzHeight<t.options.zoomWindowHeight/t.heightRatio?t.lensHeight=t.nzHeight:t.lensHeight=t.options.zoomWindowHeight/t.heightRatio,t.largeWidth<t.options.zoomWindowWidth?t.lensWidth=t.nzWidth:t.lensWidth=t.options.zoomWindowWidth/t.widthRatio,{display:"none",position:"absolute",height:t.lensHeight,width:t.lensWidth,border:t.options.lensBorderSize+"px solid "+t.options.lensBorderColour,backgroundPosition:"0px 0px",backgroundRepeat:"no-repeat",backgroundColor:t.options.lensColour,opacity:t.options.lensOpacity,cursor:t.options.cursor,zIndex:999,overflow:"hidden"})),t.tintStyle={display:"block",position:"absolute",height:t.nzHeight,width:t.nzWidth,backgroundColor:t.options.tintColour,opacity:0},t.lensRound={},"lens"===t.options.zoomType&&(t.lensStyle={display:"none",position:"absolute",float:"left",height:t.options.lensSize,width:t.options.lensSize,border:t.options.borderSize+"px solid "+t.options.borderColour,backgroundPosition:"0px 0px",backgroundRepeat:"no-repeat",backgroundColor:t.options.lensColour,cursor:t.options.cursor}),"round"===t.options.lensShape&&(t.lensRound={borderRadius:t.options.lensSize/2+t.options.borderSize}),t.zoomContainer=d('<div class="'+t.options.container+'" uuid="'+t.options.zoomId+'"/>'),t.zoomContainer.css({position:"absolute",top:t.nzOffset.top,left:t.nzOffset.left,height:t.nzHeight,width:t.nzWidth,zIndex:t.options.zIndex}),t.$elem.attr("id")&&t.zoomContainer.attr("id",t.$elem.attr("id")+"-"+t.options.container),d("."+t.options.container).remove(),d(t.options.zoomContainerAppendTo).append(t.zoomContainer),t.options.containLensZoom&&"lens"===t.options.zoomType&&t.zoomContainer.css("overflow","hidden"),"inner"!==t.options.zoomType&&(t.zoomLens=d('<div class="zoomLens"/>').css(d.extend({},t.lensStyle,t.lensRound)).appendTo(t.zoomContainer).click(function(){t.$elem.trigger("click")}),t.options.tint)&&(t.tintContainer=d('<div class="tintContainer"/>'),t.zoomTint=d('<div class="zoomTint"/>').css(t.tintStyle),t.zoomLens.wrap(t.tintContainer),t.zoomTintcss=t.zoomLens.after(t.zoomTint),t.zoomTintImage=d('<img src="'+t.$elem.attr("src")+'">').css({position:"absolute",top:0,left:0,height:t.nzHeight,width:t.nzWidth,maxWidth:"none"}).appendTo(t.zoomLens).click(function(){t.$elem.trigger("click")}));var e=isNaN(t.options.zoomWindowPosition)?"body":t.zoomContainer;function i(o){t.lastX===o.clientX&&t.lastY===o.clientY||(t.setPosition(o),t.currentLoc=o),t.lastX=o.clientX,t.lastY=o.clientY}t.zoomWindow=d('<div class="zoomWindow"/>').css(d.extend({zIndex:999,top:t.windowOffsetTop,left:t.windowOffsetLeft},t.zoomWindowStyle)).appendTo(e).click(function(){t.$elem.trigger("click")}),t.zoomWindowContainer=d('<div class="zoomWindowContainer" />').css({width:t.options.zoomWindowWidth}),t.zoomWindow.wrap(t.zoomWindowContainer),"lens"===t.options.zoomType&&(t.zoomContainer.css("display","none"),t.zoomLens.css({backgroundImage:'url("'+t.imageSrc+'")'})),"window"===t.options.zoomType&&t.zoomWindow.css({backgroundImage:'url("'+t.imageSrc+'")'}),"inner"===t.options.zoomType&&t.zoomWindow.css({backgroundImage:'url("'+t.imageSrc+'")'}),t.options.touchEnabled&&(t.$elem.on("touchmove.ezpspace",function(o){o.preventDefault();o=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];t.setPosition(o)}),t.zoomContainer.on("touchmove.ezpspace",function(o){t.setElements("show"),o.preventDefault();o=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];t.setPosition(o)}),t.zoomContainer.add(t.$elem).on("touchend.ezpspace",function(o){t.showHideWindow("hide"),t.options.showLens&&t.showHideLens("hide"),t.options.tint&&"inner"!==t.options.zoomType&&t.showHideTint("hide")}),t.options.showLens)&&(t.zoomLens.on("touchmove.ezpspace",function(o){o.preventDefault();o=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];t.setPosition(o)}),t.zoomLens.on("touchend.ezpspace",function(o){t.showHideWindow("hide"),t.options.showLens&&t.showHideLens("hide"),t.options.tint&&"inner"!==t.options.zoomType&&t.showHideTint("hide")})),t.zoomContainer.on("click.ezpspace touchstart.ezpspace",t.options.onImageClick),t.zoomContainer.add(t.$elem).on("mousemove.ezpspace",function(o){!1===t.overWindow&&t.setElements("show"),i(o)});e=null;"inner"!==t.options.zoomType&&(e=t.zoomLens),t.options.tint&&"inner"!==t.options.zoomType&&(e=t.zoomTint),(e="inner"===t.options.zoomType?t.zoomWindow:e)&&e.on("mousemove.ezpspace",i),t.zoomContainer.add(t.$elem).hover(function(){!1===t.overWindow&&t.setElements("show")},function(){t.scrollLock||(t.setElements("hide"),t.options.onDestroy(t.$elem))}),"inner"!==t.options.zoomType&&t.zoomWindow.hover(function(){t.overWindow=!0,t.setElements("hide")},function(){t.overWindow=!1}),t.options.minZoomLevel?t.minZoomLevel=t.options.minZoomLevel:t.minZoomLevel=2*t.options.scrollZoomIncrement,t.options.scrollZoom&&t.zoomContainer.add(t.$elem).on("wheel DOMMouseScroll MozMousePixelScroll",function(o){t.scrollLock=!0,clearTimeout(d.data(this,"timer")),d.data(this,"timer",setTimeout(function(){t.scrollLock=!1},250));var e,i=o.originalEvent.deltaY||-1*o.originalEvent.detail;return o.stopImmediatePropagation(),o.stopPropagation(),o.preventDefault(),0!==i&&(0<i/120?(e=parseFloat(t.currentZoomLevel)-t.options.scrollZoomIncrement)>=parseFloat(t.minZoomLevel)&&t.changeZoomLevel(e):(t.fullheight||t.fullwidth)&&t.options.mantainZoomAspectRatio||(e=parseFloat(t.currentZoomLevel)+t.options.scrollZoomIncrement,(!t.options.maxZoomLevel||e<=t.options.maxZoomLevel)&&t.changeZoomLevel(e))),!1})},destroy:function(){var o=this;o.$elem.off(".ezpspace"),o.$galleries.off(".ezpspace"),d(o.zoomContainer).remove(),o.options.loadingIcon&&o.spinner&&o.spinner.length&&(o.spinner.remove(),delete o.spinner)},getIdentifier:function(){return this.options.zoomId},setElements:function(o){var e=this;if(!e.options.zoomEnabled)return!1;"show"===o&&e.isWindowSet&&("inner"===e.options.zoomType&&e.showHideWindow("show"),"window"===e.options.zoomType&&e.showHideWindow("show"),e.options.showLens&&(e.showHideZoomContainer("show"),e.showHideLens("show")),e.options.tint)&&"inner"!==e.options.zoomType&&e.showHideTint("show"),"hide"===o&&("window"===e.options.zoomType&&e.showHideWindow("hide"),e.options.tint||e.showHideWindow("hide"),e.options.showLens&&(e.showHideZoomContainer("hide"),e.showHideLens("hide")),e.options.tint)&&e.showHideTint("hide")},setPosition:function(o){var e,i,t=this;if(!t.options.zoomEnabled||void 0===o)return!1;t.nzHeight=t.$elem.height(),t.nzWidth=t.$elem.width(),t.updateOffset(t),t.options.tint&&"inner"!==t.options.zoomType&&t.zoomTint.css({top:0,left:0}),t.options.responsive&&!t.options.scrollZoom&&t.options.showLens&&(t.nzHeight<t.options.zoomWindowWidth/t.widthRatio?t.lensHeight=t.nzHeight:t.lensHeight=t.options.zoomWindowHeight/t.heightRatio,t.largeWidth<t.options.zoomWindowWidth?t.lensWidth=t.nzWidth:t.lensWidth=t.options.zoomWindowWidth/t.widthRatio,t.widthRatio=t.largeWidth/t.nzWidth,t.heightRatio=t.largeHeight/t.nzHeight,"lens"!==t.options.zoomType&&(t.nzHeight<t.options.zoomWindowWidth/t.widthRatio?t.lensHeight=t.nzHeight:t.lensHeight=t.options.zoomWindowHeight/t.heightRatio,t.nzWidth<t.options.zoomWindowHeight/t.heightRatio?t.lensWidth=t.nzWidth:t.lensWidth=t.options.zoomWindowWidth/t.widthRatio,t.zoomLens.css({width:t.lensWidth,height:t.lensHeight}),t.options.tint)&&t.zoomTintImage.css({width:t.nzWidth,height:t.nzHeight}),"lens"===t.options.zoomType)&&t.zoomLens.css({width:t.options.lensSize,height:t.options.lensSize}),t.zoomContainer.css({top:t.nzOffset.top,left:t.nzOffset.left,width:t.nzWidth,height:t.nzHeight}),t.mouseLeft=parseInt(o.pageX-t.pageOffsetX-t.nzOffset.left),t.mouseTop=parseInt(o.pageY-t.pageOffsetY-t.nzOffset.top),"window"===t.options.zoomType&&(e=t.zoomLens.height()/2,i=t.zoomLens.width()/2,t.Etoppos=t.mouseTop<0+e,t.Eboppos=t.mouseTop>t.nzHeight-e-2*t.options.lensBorderSize,t.Eloppos=t.mouseLeft<0+i,t.Eroppos=t.mouseLeft>t.nzWidth-i-2*t.options.lensBorderSize),"inner"===t.options.zoomType&&(t.Etoppos=t.mouseTop<t.nzHeight/2/t.heightRatio,t.Eboppos=t.mouseTop>t.nzHeight-t.nzHeight/2/t.heightRatio,t.Eloppos=t.mouseLeft<0+t.nzWidth/2/t.widthRatio,t.Eroppos=t.mouseLeft>t.nzWidth-t.nzWidth/2/t.widthRatio-2*t.options.lensBorderSize),t.mouseLeft<0||t.mouseTop<0||t.mouseLeft>t.nzWidth||t.mouseTop>t.nzHeight?t.setElements("hide"):(t.options.showLens&&(t.lensLeftPos=Math.floor(t.mouseLeft-t.zoomLens.width()/2),t.lensTopPos=Math.floor(t.mouseTop-t.zoomLens.height()/2)),t.Etoppos&&(t.lensTopPos=0),t.Eloppos&&(t.windowLeftPos=0,t.lensLeftPos=0,t.tintpos=0),"window"===t.options.zoomType&&(t.Eboppos&&(t.lensTopPos=Math.max(t.nzHeight-t.zoomLens.height()-2*t.options.lensBorderSize,0)),t.Eroppos)&&(t.lensLeftPos=t.nzWidth-t.zoomLens.width()-2*t.options.lensBorderSize),"inner"===t.options.zoomType&&(t.Eboppos&&(t.lensTopPos=Math.max(t.nzHeight-2*t.options.lensBorderSize,0)),t.Eroppos)&&(t.lensLeftPos=t.nzWidth-t.nzWidth-2*t.options.lensBorderSize),"lens"===t.options.zoomType&&(t.windowLeftPos=-1*((o.pageX-t.pageOffsetX-t.nzOffset.left)*t.widthRatio-t.zoomLens.width()/2),t.windowTopPos=-1*((o.pageY-t.pageOffsetY-t.nzOffset.top)*t.heightRatio-t.zoomLens.height()/2),t.zoomLens.css({backgroundPosition:t.windowLeftPos+"px "+t.windowTopPos+"px"}),t.changeBgSize&&(t.nzHeight>t.nzWidth?("lens"===t.options.zoomType&&t.zoomLens.css({backgroundSize:t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"}),t.zoomWindow.css({backgroundSize:t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"})):("lens"===t.options.zoomType&&t.zoomLens.css({backgroundSize:t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvaluewidth+"px"}),t.zoomWindow.css({backgroundSize:t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvaluewidth+"px"})),t.changeBgSize=!1),t.setWindowPosition(o)),t.options.tint&&"inner"!==t.options.zoomType&&t.setTintPosition(o),"window"===t.options.zoomType&&t.setWindowPosition(o),"inner"===t.options.zoomType&&t.setWindowPosition(o),t.options.showLens&&(t.fullwidth&&"lens"!==t.options.zoomType&&(t.lensLeftPos=0),t.zoomLens.css({left:t.lensLeftPos,top:t.lensTopPos})))},showHideZoomContainer:function(o){"show"===o&&this.zoomContainer&&this.zoomContainer.show(),"hide"===o&&this.zoomContainer&&this.zoomContainer.hide()},showHideWindow:function(o){var e=this;"show"===o&&!e.isWindowActive&&e.zoomWindow&&(e.options.onShow(e),e.options.zoomWindowFadeIn?e.zoomWindow.stop(!0,!0,!1).fadeIn(e.options.zoomWindowFadeIn):e.zoomWindow.show(),e.isWindowActive=!0),"hide"===o&&e.isWindowActive&&(e.options.zoomWindowFadeOut?e.zoomWindow.stop(!0,!0).fadeOut(e.options.zoomWindowFadeOut,function(){e.loop&&(clearInterval(e.loop),e.loop=!1)}):e.zoomWindow.hide(),e.options.onHide(e),e.isWindowActive=!1)},showHideLens:function(o){var e=this;"show"!==o||e.isLensActive||(e.zoomLens&&(e.options.lensFadeIn?e.zoomLens.stop(!0,!0,!1).fadeIn(e.options.lensFadeIn):e.zoomLens.show()),e.isLensActive=!0),"hide"===o&&e.isLensActive&&(e.zoomLens&&(e.options.lensFadeOut?e.zoomLens.stop(!0,!0).fadeOut(e.options.lensFadeOut):e.zoomLens.hide()),e.isLensActive=!1)},showHideTint:function(o){var e=this;"show"===o&&!e.isTintActive&&e.zoomTint&&(e.options.zoomTintFadeIn?e.zoomTint.css("opacity",e.options.tintOpacity).animate().stop(!0,!0).fadeIn("slow"):(e.zoomTint.css("opacity",e.options.tintOpacity).animate(),e.zoomTint.show()),e.isTintActive=!0),"hide"===o&&e.isTintActive&&(e.options.zoomTintFadeOut?e.zoomTint.stop(!0,!0).fadeOut(e.options.zoomTintFadeOut):e.zoomTint.hide(),e.isTintActive=!1)},setLensPosition:function(o){},setWindowPosition:function(o){var e,i,t=this;if(isNaN(t.options.zoomWindowPosition))t.externalContainer=d(t.options.zoomWindowPosition),t.externalContainer.length||(t.externalContainer=d("#"+t.options.zoomWindowPosition)),t.externalContainerWidth=t.externalContainer.width(),t.externalContainerHeight=t.externalContainer.height(),t.externalContainerOffset=t.externalContainer.offset(),t.windowOffsetTop=t.externalContainerOffset.top,t.windowOffsetLeft=t.externalContainerOffset.left;else switch(t.options.zoomWindowPosition){case 1:t.windowOffsetTop=t.options.zoomWindowOffsetY,t.windowOffsetLeft=+t.nzWidth;break;case 2:t.options.zoomWindowHeight>t.nzHeight?(t.windowOffsetTop=-1*(t.options.zoomWindowHeight/2-t.nzHeight/2),t.windowOffsetLeft=t.nzWidth):d.noop();break;case 3:t.windowOffsetTop=t.nzHeight-t.zoomWindow.height()-2*t.options.borderSize,t.windowOffsetLeft=t.nzWidth;break;case 4:t.windowOffsetTop=t.nzHeight,t.windowOffsetLeft=t.nzWidth;break;case 5:t.windowOffsetTop=t.nzHeight,t.windowOffsetLeft=t.nzWidth-t.zoomWindow.width()-2*t.options.borderSize;break;case 6:t.options.zoomWindowHeight>t.nzHeight?(t.windowOffsetTop=t.nzHeight,t.windowOffsetLeft=-1*(t.options.zoomWindowWidth/2-t.nzWidth/2+2*t.options.borderSize)):d.noop();break;case 7:t.windowOffsetTop=t.nzHeight,t.windowOffsetLeft=0;break;case 8:t.windowOffsetTop=t.nzHeight,t.windowOffsetLeft=-1*(t.zoomWindow.width()+2*t.options.borderSize);break;case 9:t.windowOffsetTop=t.nzHeight-t.zoomWindow.height()-2*t.options.borderSize,t.windowOffsetLeft=-1*(t.zoomWindow.width()+2*t.options.borderSize);break;case 10:t.options.zoomWindowHeight>t.nzHeight?(t.windowOffsetTop=-1*(t.options.zoomWindowHeight/2-t.nzHeight/2),t.windowOffsetLeft=-1*(t.zoomWindow.width()+2*t.options.borderSize)):d.noop();break;case 11:t.windowOffsetTop=t.options.zoomWindowOffsetY,t.windowOffsetLeft=-1*(t.zoomWindow.width()+2*t.options.borderSize);break;case 12:t.windowOffsetTop=-1*(t.zoomWindow.height()+2*t.options.borderSize),t.windowOffsetLeft=-1*(t.zoomWindow.width()+2*t.options.borderSize);break;case 13:t.windowOffsetTop=-1*(t.zoomWindow.height()+2*t.options.borderSize),t.windowOffsetLeft=0;break;case 14:t.options.zoomWindowHeight>t.nzHeight?(t.windowOffsetTop=-1*(t.zoomWindow.height()+2*t.options.borderSize),t.windowOffsetLeft=-1*(t.options.zoomWindowWidth/2-t.nzWidth/2+2*t.options.borderSize)):d.noop();break;case 15:t.windowOffsetTop=-1*(t.zoomWindow.height()+2*t.options.borderSize),t.windowOffsetLeft=t.nzWidth-t.zoomWindow.width()-2*t.options.borderSize;break;case 16:t.windowOffsetTop=-1*(t.zoomWindow.height()+2*t.options.borderSize),t.windowOffsetLeft=t.nzWidth;break;default:t.windowOffsetTop=t.options.zoomWindowOffsetY,t.windowOffsetLeft=t.nzWidth}t.isWindowSet=!0,t.windowOffsetTop=t.windowOffsetTop+t.options.zoomWindowOffsetY,t.windowOffsetLeft=t.windowOffsetLeft+t.options.zoomWindowOffsetX,t.zoomWindow.css({top:t.windowOffsetTop,left:t.windowOffsetLeft}),"inner"===t.options.zoomType&&t.zoomWindow.css({top:0,left:0}),t.windowLeftPos=-1*((o.pageX-t.pageOffsetX-t.nzOffset.left)*t.widthRatio-t.zoomWindow.width()/2),t.windowTopPos=-1*((o.pageY-t.pageOffsetY-t.nzOffset.top)*t.heightRatio-t.zoomWindow.height()/2),t.Etoppos&&(t.windowTopPos=0),t.Eloppos&&(t.windowLeftPos=0),t.Eboppos&&(t.windowTopPos=-1*(t.largeHeight/t.currentZoomLevel-t.zoomWindow.height())),t.Eroppos&&(t.windowLeftPos=-1*(t.largeWidth/t.currentZoomLevel-t.zoomWindow.width())),t.fullheight&&(t.windowTopPos=0),t.fullwidth&&(t.windowLeftPos=0),"window"!==t.options.zoomType&&"inner"!==t.options.zoomType||(1===t.zoomLock&&(t.widthRatio<=1&&(t.windowLeftPos=0),t.heightRatio<=1)&&(t.windowTopPos=0),t.options.easing?(t.xp||(t.xp=0),t.yp||(t.yp=0),e=16,"number"==typeof(i=parseInt(t.options.easing))&&isFinite(i)&&Math.floor(i)===i&&(e=i),t.loop||(t.loop=setInterval(function(){t.xp+=(t.windowLeftPos-t.xp)/t.options.easingAmount,t.yp+=(t.windowTopPos-t.yp)/t.options.easingAmount,t.scrollingLock?(clearInterval(t.loop),t.xp=t.windowLeftPos,t.yp=t.windowTopPos,t.xp=-1*((o.pageX-t.pageOffsetX-t.nzOffset.left)*t.widthRatio-t.zoomWindow.width()/2),t.yp=-1*((o.pageY-t.pageOffsetY-t.nzOffset.top)*t.heightRatio-t.zoomWindow.height()/2),t.changeBgSize&&(t.nzHeight>t.nzWidth?("lens"===t.options.zoomType&&t.zoomLens.css({backgroundSize:t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"}),t.zoomWindow.css({backgroundSize:t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"})):("lens"!==t.options.zoomType&&t.zoomLens.css({backgroundSize:t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvalueheight+"px"}),t.zoomWindow.css({backgroundSize:t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvaluewidth+"px"})),t.changeBgSize=!1),t.zoomWindow.css({backgroundPosition:t.windowLeftPos+"px "+t.windowTopPos+"px"}),t.scrollingLock=!1,t.loop=!1):Math.round(Math.abs(t.xp-t.windowLeftPos)+Math.abs(t.yp-t.windowTopPos))<1?(clearInterval(t.loop),t.zoomWindow.css({backgroundPosition:t.windowLeftPos+"px "+t.windowTopPos+"px"}),t.loop=!1):(t.changeBgSize&&(t.nzHeight>t.nzWidth?("lens"===t.options.zoomType&&t.zoomLens.css({backgroundSize:t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"}),t.zoomWindow.css({backgroundSize:t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"})):("lens"!==t.options.zoomType&&t.zoomLens.css({backgroundSize:t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvaluewidth+"px"}),t.zoomWindow.css({backgroundSize:t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvaluewidth+"px"})),t.changeBgSize=!1),t.zoomWindow.css({backgroundPosition:t.xp+"px "+t.yp+"px"}))},e))):(t.changeBgSize&&(t.nzHeight>t.nzWidth?("lens"===t.options.zoomType&&t.zoomLens.css({backgroundSize:t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"}),t.zoomWindow.css({backgroundSize:t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"})):("lens"===t.options.zoomType&&t.zoomLens.css({backgroundSize:t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvaluewidth+"px"}),t.largeHeight/t.newvaluewidth<t.options.zoomWindowHeight?t.zoomWindow.css({backgroundSize:t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvaluewidth+"px"}):t.zoomWindow.css({backgroundSize:t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"})),t.changeBgSize=!1),t.zoomWindow.css({backgroundPosition:t.windowLeftPos+"px "+t.windowTopPos+"px"})))},setTintPosition:function(o){var e=this,i=e.zoomLens.width(),t=e.zoomLens.height();e.updateOffset(e),e.tintpos=-1*(o.pageX-e.pageOffsetX-e.nzOffset.left-i/2),e.tintposy=-1*(o.pageY-e.pageOffsetY-e.nzOffset.top-t/2),e.Etoppos&&(e.tintposy=0),e.Eloppos&&(e.tintpos=0),e.Eboppos&&(e.tintposy=-1*(e.nzHeight-t-2*e.options.lensBorderSize)),e.Eroppos&&(e.tintpos=-1*(e.nzWidth-i-2*e.options.lensBorderSize)),e.options.tint&&(e.fullheight&&(e.tintposy=0),e.fullwidth&&(e.tintpos=0),e.zoomTintImage.css({left:e.tintpos,top:e.tintposy}))},swaptheimage:function(o,e){var i,t=this,n=new Image;t.options.loadingIcon&&!t.spinner?(i={background:'url("'+t.options.loadingIcon+'") no-repeat',height:t.nzHeight,width:t.nzWidth,zIndex:2e3,position:"absolute",backgroundPosition:"center center"},"inner"===t.options.zoomType&&i.setProperty("top",0),t.spinner=d('<div class="ezp-spinner"></div>').css(i),t.$elem.after(t.spinner)):t.spinner&&t.spinner.show(),t.options.onImageSwap(t.$elem),n.onload=function(){t.largeWidth=n.width,t.largeHeight=n.height,t.zoomImage=e,t.zoomWindow.css({backgroundSize:t.largeWidth+"px "+t.largeHeight+"px"}),t.swapAction(o,e)},t.setImageSource(n,e)},swapAction:function(o,e){var i,t,n=this,s=n.$elem.width(),a=n.$elem.height(),h=new Image;h.onload=function(){n.nzHeight=h.height,n.nzWidth=h.width,n.options.onImageSwapComplete(n.$elem),n.doneCallback()},n.setImageSource(h,o),n.currentZoomLevel=n.options.zoomLevel,n.options.maxZoomLevel=!1,"lens"===n.options.zoomType&&n.zoomLens.css("background-image",'url("'+e+'")'),"window"===n.options.zoomType&&n.zoomWindow.css("background-image",'url("'+e+'")'),"inner"===n.options.zoomType&&n.zoomWindow.css("background-image",'url("'+e+'")'),n.currentImage=e,n.options.imageCrossfade?(t=(i=n.$elem).clone(),n.$elem.attr("src",o),n.$elem.after(t),t.stop(!0).fadeOut(n.options.imageCrossfade,function(){d(this).remove()}),n.$elem.width("auto").removeAttr("width"),n.$elem.height("auto").removeAttr("height"),i.fadeIn(n.options.imageCrossfade),n.options.tint&&"inner"!==n.options.zoomType&&(i=(t=n.zoomTintImage).clone(),n.zoomTintImage.attr("src",e),n.zoomTintImage.after(i),i.stop(!0).fadeOut(n.options.imageCrossfade,function(){d(this).remove()}),t.fadeIn(n.options.imageCrossfade),n.zoomTint.css({height:a,width:s})),n.zoomContainer.css({height:a,width:s}),"inner"!==n.options.zoomType||n.options.constrainType||(n.zoomWrap.parent().css({height:a,width:s}),n.zoomWindow.css({height:a,width:s}))):(n.$elem.attr("src",o),n.options.tint&&(n.zoomTintImage.attr("src",e),n.zoomTintImage.attr("height",a),n.zoomTintImage.css("height",a),n.zoomTint.css("height",a)),n.zoomContainer.css({height:a,width:s})),n.options.imageCrossfade&&n.zoomWrap.css({height:a,width:s}),n.options.constrainType&&("height"===n.options.constrainType&&(i={height:n.options.constrainSize,width:"auto"},n.zoomContainer.css(i),n.options.imageCrossfade?(n.zoomWrap.css(i),n.constwidth=n.zoomWrap.width()):(n.$elem.css(i),n.constwidth=s),t={height:n.options.constrainSize,width:n.constwidth},"inner"===n.options.zoomType&&(n.zoomWrap.parent().css(t),n.zoomWindow.css(t)),n.options.tint)&&(n.tintContainer.css(t),n.zoomTint.css(t),n.zoomTintImage.css(t)),"width"===n.options.constrainType)&&(o={height:"auto",width:n.options.constrainSize},n.zoomContainer.css(o),n.options.imageCrossfade?(n.zoomWrap.css(o),n.constheight=n.zoomWrap.height()):(n.$elem.css(o),n.constheight=a),e={height:n.constheight,width:n.options.constrainSize},"inner"===n.options.zoomType&&(n.zoomWrap.parent().css(e),n.zoomWindow.css(e)),n.options.tint)&&(n.tintContainer.css(e),n.zoomTint.css(e),n.zoomTintImage.css(e))},doneCallback:function(){var o=this;o.options.loadingIcon&&o.spinner&&o.spinner.length&&o.spinner.hide(),o.updateOffset(o),o.nzWidth=o.$elem.width(),o.nzHeight=o.$elem.height(),o.currentZoomLevel=o.options.zoomLevel,o.widthRatio=o.largeWidth/o.nzWidth,o.heightRatio=o.largeHeight/o.nzHeight,"window"===o.options.zoomType&&(o.nzHeight<o.options.zoomWindowHeight/o.heightRatio?o.lensHeight=o.nzHeight:o.lensHeight=o.options.zoomWindowHeight/o.heightRatio,o.nzWidth<o.options.zoomWindowWidth?o.lensWidth=o.nzWidth:o.lensWidth=o.options.zoomWindowWidth/o.widthRatio,o.zoomLens)&&o.zoomLens.css({width:o.lensWidth,height:o.lensHeight})},getCurrentImage:function(){return this.zoomImage},getGalleryList:function(){var e=this;return e.gallerylist=[],e.options.gallery?d("#"+e.options.gallery+" a").each(function(){var o="";d(this).data(e.options.attrImageZoomSrc)?o=d(this).data(e.options.attrImageZoomSrc):d(this).data("image")&&(o=d(this).data("image")),o===e.zoomImage?e.gallerylist.unshift({href:""+o,title:d(this).find("img").attr("title")}):e.gallerylist.push({href:""+o,title:d(this).find("img").attr("title")})}):e.gallerylist.push({href:""+e.zoomImage,title:d(this).find("img").attr("title")}),e.gallerylist},changeZoomLevel:function(o){var e=this,o=(e.scrollingLock=!0,e.newvalue=parseFloat(o).toFixed(2),e.newvalue),i=e.largeHeight/(e.options.zoomWindowHeight/e.nzHeight*e.nzHeight),t=e.largeWidth/(e.options.zoomWindowWidth/e.nzWidth*e.nzWidth),i=("inner"!==e.options.zoomType&&(i<=o?(e.heightRatio=e.largeHeight/i/e.nzHeight,e.newvalueheight=i,e.fullheight=!0):(e.heightRatio=e.largeHeight/o/e.nzHeight,e.newvalueheight=o,e.fullheight=!1),t<=o?(e.widthRatio=e.largeWidth/t/e.nzWidth,e.newvaluewidth=t,e.fullwidth=!0):(e.widthRatio=e.largeWidth/o/e.nzWidth,e.newvaluewidth=o,e.fullwidth=!1),"lens"===e.options.zoomType)&&(i<=o?(e.fullwidth=!0,e.newvaluewidth=i):(e.widthRatio=e.largeWidth/o/e.nzWidth,e.newvaluewidth=o,e.fullwidth=!1)),"inner"===e.options.zoomType&&((i=parseFloat(e.largeHeight/e.nzHeight).toFixed(2))<=(o=(t=parseFloat(e.largeWidth/e.nzWidth).toFixed(2))<(o=i<o?i:o)?t:o)?(e.heightRatio=e.largeHeight/o/e.nzHeight,e.newvalueheight=i<o?i:o,e.fullheight=!0):(e.heightRatio=e.largeHeight/o/e.nzHeight,e.newvalueheight=i<o?i:o,e.fullheight=!1),t<=o?(e.widthRatio=e.largeWidth/o/e.nzWidth,e.newvaluewidth=t<o?t:o,e.fullwidth=!0):(e.widthRatio=e.largeWidth/o/e.nzWidth,e.newvaluewidth=o,e.fullwidth=!1)),!1);"inner"===e.options.zoomType&&(e.nzWidth>=e.nzHeight&&(e.newvaluewidth<=t?i=!0:(e.fullheight=!(i=!1),e.fullwidth=!0)),e.nzHeight>e.nzWidth)&&(e.newvaluewidth<=t?i=!0:(e.fullheight=!(i=!1),e.fullwidth=!0)),(i="inner"!==e.options.zoomType?!0:i)&&(e.zoomLock=0,e.changeZoom=!0,e.options.zoomWindowHeight/e.heightRatio<=e.nzHeight&&(e.currentZoomLevel=e.newvalueheight,"lens"!==e.options.zoomType&&"inner"!==e.options.zoomType&&(e.changeBgSize=!0,e.zoomLens.css({height:e.options.zoomWindowHeight/e.heightRatio})),"lens"!==e.options.zoomType&&"inner"!==e.options.zoomType||(e.changeBgSize=!0)),e.options.zoomWindowWidth/e.widthRatio<=e.nzWidth&&("inner"!==e.options.zoomType&&e.newvaluewidth>e.newvalueheight&&(e.currentZoomLevel=e.newvaluewidth),"lens"!==e.options.zoomType&&"inner"!==e.options.zoomType&&(e.changeBgSize=!0,e.zoomLens.css({width:e.options.zoomWindowWidth/e.widthRatio})),"lens"!==e.options.zoomType&&"inner"!==e.options.zoomType||(e.changeBgSize=!0)),"inner"===e.options.zoomType)&&(e.changeBgSize=!0,e.nzWidth>e.nzHeight||e.nzHeight>=e.nzWidth)&&(e.currentZoomLevel=e.newvaluewidth),e.setPosition(e.currentLoc)},closeAll:function(){var o=this;o.zoomWindow&&o.zoomWindow.hide(),o.zoomLens&&o.zoomLens.hide(),o.zoomTint&&o.zoomTint.hide()},updateOffset:function(o){var e;"body"!==o.options.zoomContainerAppendTo?(o.nzOffset=o.$elem.offset(),e=d(o.options.zoomContainerAppendTo).offset(),o.nzOffset.top=o.$elem.offset().top-e.top,o.nzOffset.left=o.$elem.offset().left-e.left,o.pageOffsetX=e.left,o.pageOffsetY=e.top):(o.nzOffset=o.$elem.offset(),o.pageOffsetX=0,o.pageOffsetY=0)},changeState:function(o){"enable"===o&&(this.options.zoomEnabled=!0),"disable"===o&&(this.options.zoomEnabled=!1)},responsiveConfig:function(o){return o.respond&&0<o.respond.length?d.extend({},o,this.configByScreenWidth(o)):o},configByScreenWidth:function(o){var e=d(t).width(),i=d.grep(o.respond,function(o){o=o.range.split("-");return e>=o[0]&&e<=o[1]});return 0<i.length?i[0]:o}};d.fn.ezPlus=function(e){return this.each(function(){var o=Object.create(i);o.init(e,this),d.data(this,"ezPlus",o)})},d.fn.ezPlus.options={container:"ZoomContainer",attrImageZoomSrc:"zoom-image",borderColour:"#888",borderSize:4,constrainSize:!1,constrainType:!1,containLensZoom:!1,cursor:"inherit",debug:!1,easing:!1,easingAmount:12,enabled:!0,gallery:!1,galleryActiveClass:"zoomGalleryActive",gallerySelector:!1,galleryItem:"a",galleryEvent:"click",imageCrossfade:!1,lensBorderColour:"#000",lensBorderSize:1,lensColour:"white",lensFadeIn:!1,lensFadeOut:!1,lensOpacity:.4,lensShape:"square",lensSize:200,lenszoom:!1,loadingIcon:!1,mantainZoomAspectRatio:!1,maxZoomLevel:!1,minZoomLevel:1.01,onComplete:d.noop,onDestroy:d.noop,onImageClick:d.noop,onImageSwap:d.noop,onImageSwapComplete:d.noop,onShow:d.noop,onHide:d.noop,onZoomedImageLoaded:d.noop,preloading:1,respond:[],responsive:!0,scrollZoom:!1,scrollZoomIncrement:.1,showLens:!0,tint:!1,tintColour:"#333",tintOpacity:.4,touchEnabled:!0,zoomActivation:"hover",zoomContainerAppendTo:"body",zoomId:-1,zoomLevel:1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,zoomType:"window",zoomWindowAlwaysShow:!1,zoomWindowBgColour:"#fff",zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowHeight:400,zoomWindowOffsetX:0,zoomWindowOffsetY:0,zoomWindowPosition:1,zoomWindowWidth:400,zoomEnabled:!0,zIndex:999}}(window.jQuery,window,document);
//# sourceMappingURL=jquery.ez-plus-min.js.map