/*! Fabrik */
ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/tokenizer","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(e,t,n){function o(){this.$tokenizer=new s((new a).getRules()),this.$outdent=new u,this.$behaviour=new c,this.foldingRules=new l}var r=e("../lib/oop"),i=e("./text").Mode,s=e("../tokenizer").Tokenizer,a=e("./json_highlight_rules").JsonHighlightRules,u=e("./matching_brace_outdent").MatchingBraceOutdent,c=e("./behaviour/cstyle").CstyleBehaviour,l=e("./folding/cstyle").FoldMode,g=e("../worker/worker_client").WorkerClient;r.inherits(o,i),function(){this.getNextLineIndent=function(e,t,n){var o=this.$getIndent(t);return"start"==e&&t.match(/^.*[\{\(\[]\s*$/)&&(o+=n),o},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(t){var e=new g(["ace"],"ace/mode/json_worker","JsonWorker");return e.attachToDocument(t.getDocument()),e.on("error",function(e){t.setAnnotations([e.data])}),e.on("ok",function(){t.clearAnnotations()}),e}}.call(o.prototype),t.Mode=o}),ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){function o(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"invalid.illegal",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"invalid.illegal",regex:"\\/\\/.*$"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'[^"\\\\]+'},{token:"string",regex:'"',next:"start"},{token:"string",regex:"",next:"start"}]}}var r=e("../lib/oop"),e=e("./text_highlight_rules").TextHighlightRules;r.inherits(o,e),t.JsonHighlightRules=o}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t,n){function o(){}var r=e("../range").Range;(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n,o=e.getLine(t).match(/^(\s*\})/);return o&&(o=o[1].length,n=e.findMatchingBracket({row:t,column:o}))&&n.row!=t?(n=this.$getIndent(e.getLine(n.row)),void e.replace(new r(t,0,t,o-1),n)):0},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(o.prototype),t.MatchingBraceOutdent=o}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,n){function h(){h.isSaneInsertion=function(e,t){var e=e.getCursorPosition(),n=new i(t,e.row,e.column);if(!this.$matchTokenType(n.getCurrentToken()||"text",s)){t=new i(t,e.row,e.column+1);if(!this.$matchTokenType(t.getCurrentToken()||"text",s))return!1}return n.stepForward(),n.getCurrentTokenRow()!==e.row||this.$matchTokenType(n.getCurrentToken()||"text",a)},h.$matchTokenType=function(e,t){return-1<t.indexOf(e.type||e)},h.recordAutoInsert=function(e,t,n){e=e.getCursorPosition(),t=t.doc.getLine(e.row);this.isAutoInsertedClosing(e,t,g[0])||(u=0),l=e.row,g=n+t.substr(e.column),u++},h.recordMaybeInsert=function(e,t,n){e=e.getCursorPosition(),t=t.doc.getLine(e.row);this.isMaybeInsertedClosing(e,t)||(d=0),f=e.row,m=t.substr(0,e.column)+n,p=t.substr(e.column),d++},h.isAutoInsertedClosing=function(e,t,n){return 0<u&&e.row===l&&n===g[0]&&t.substr(e.column)===g},h.isMaybeInsertedClosing=function(e,t){return 0<d&&e.row===f&&t.substr(e.column)===p&&t.substr(0,e.column)==m},h.popAutoInsertedClosing=function(){g=g.substr(1),u--},h.clearMaybeInsertedClosing=function(){d=0,f=-1},this.add("braces","insertion",function(e,t,n,o,r){var i=n.getCursorPosition(),s=o.doc.getLine(i.row);if("{"==r)return u=n.getSelectionRange(),""!==(u=o.doc.getTextRange(u))&&"{"!==u&&n.getWrapBehavioursEnabled()?{text:"{"+u+"}",selection:!1}:h.isSaneInsertion(n,o)?/[\]\}\)]/.test(s[i.column])?(h.recordAutoInsert(n,o,"}"),{text:"{}",selection:[1,1]}):(h.recordMaybeInsert(n,o,"{"),{text:"{",selection:[1,1]}):void 0;if("}"==r){var a=s.substring(i.column,i.column+1);if("}"==a)if(null!==o.$findOpeningBracket("}",{column:i.column+1,row:i.row})&&h.isAutoInsertedClosing(i,s,r))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else if("\n"==r||"\r\n"==r){var u="";if(h.isMaybeInsertedClosing(i,s)&&(u=c.stringRepeat("}",d),h.clearMaybeInsertedClosing()),"}"==(a=s.substring(i.column,i.column+1))||""!==u)return o.findMatchingBracket({row:i.row,column:i.column},"}")?{text:"\n"+(n=this.getNextLineIndent(e,s.substring(0,i.column),o.getTabString()))+"\n"+this.$getIndent(s)+u,selection:[1,n.length,1,n.length]}:null}}),this.add("braces","deletion",function(e,t,n,o,r){var i=o.doc.getTextRange(r);if(!r.isMultiLine()&&"{"==i){if("}"==o.doc.getLine(r.start.row).substring(r.end.column,r.end.column+1))return r.end.column++,r;d--}}),this.add("parens","insertion",function(e,t,n,o,r){if("("==r)return i=n.getSelectionRange(),""!==(i=o.doc.getTextRange(i))&&n.getWrapBehavioursEnabled()?{text:"("+i+")",selection:!1}:h.isSaneInsertion(n,o)?(h.recordAutoInsert(n,o,")"),{text:"()",selection:[1,1]}):void 0;if(")"==r){var i=n.getCursorPosition(),n=o.doc.getLine(i.row),s=n.substring(i.column,i.column+1);if(")"==s)if(null!==o.$findOpeningBracket(")",{column:i.column+1,row:i.row})&&h.isAutoInsertedClosing(i,n,r))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("parens","deletion",function(e,t,n,o,r){var i=o.doc.getTextRange(r);if(!r.isMultiLine()&&"("==i&&")"==o.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2))return r.end.column++,r}),this.add("brackets","insertion",function(e,t,n,o,r){if("["==r)return i=n.getSelectionRange(),""!==(i=o.doc.getTextRange(i))&&n.getWrapBehavioursEnabled()?{text:"["+i+"]",selection:!1}:h.isSaneInsertion(n,o)?(h.recordAutoInsert(n,o,"]"),{text:"[]",selection:[1,1]}):void 0;if("]"==r){var i=n.getCursorPosition(),n=o.doc.getLine(i.row),s=n.substring(i.column,i.column+1);if("]"==s)if(null!==o.$findOpeningBracket("]",{column:i.column+1,row:i.row})&&h.isAutoInsertedClosing(i,n,r))return h.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("brackets","deletion",function(e,t,n,o,r){var i=o.doc.getTextRange(r);if(!r.isMultiLine()&&"["==i&&"]"==o.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2))return r.end.column++,r}),this.add("string_dquotes","insertion",function(e,t,n,o,r){if('"'==r||"'"==r){var i=r,s=n.getSelectionRange(),r=o.doc.getTextRange(s);if(""!==r&&"'"!==r&&'"'!=r&&n.getWrapBehavioursEnabled())return{text:i+r+i,selection:!1};var r=n.getCursorPosition(),a=o.doc.getLine(r.row);if("\\"==a.substring(r.column-1,r.column))return null;for(var u,c=o.getTokens(s.start.row),l=0,g=-1,d=0;d<c.length&&("string"==(u=c[d]).type?g=-1:g<0&&(g=u.value.indexOf(i)),!(u.value.length+l>s.start.column));d++)l+=c[d].value.length;if(!u||g<0&&"comment"!==u.type&&("string"!==u.type||s.start.column!==u.value.length+l-1&&u.value.lastIndexOf(i)===u.value.length-1))return h.isSaneInsertion(n,o)?{text:i+i,selection:[1,1]}:void 0;if(u&&"string"===u.type)if(a.substring(r.column,r.column+1)==i)return{text:"",selection:[1,1]}}}),this.add("string_dquotes","deletion",function(e,t,n,o,r){var i=o.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==i||"'"==i)&&o.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==i)return r.end.column++,r})}var o=e("../../lib/oop"),r=e("../behaviour").Behaviour,i=e("../../token_iterator").TokenIterator,c=e("../../lib/lang"),s=["text","paren.rparen","punctuation.operator"],a=["text","paren.rparen","punctuation.operator","comment"],u=0,l=-1,g="",d=0,f=-1,m="",p="";o.inherits(h,r),t.CstyleBehaviour=h}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,n){var o=e("../../lib/oop"),e=(e("../../range").Range,e("./fold_mode").FoldMode),t=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};o.inherits(t,e),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.getFoldWidgetRange=function(e,t,n){var o,r=e.getLine(n),i=r.match(this.foldingStartMarker);return i?(o=i.index,i[1]?this.openingBracketBlock(e,i[1],n,o):e.getCommentFoldRange(n,o+i[0].length,1)):"markbeginend"===t&&(i=r.match(this.foldingStopMarker))?(o=i.index+i[0].length,i[1]?this.closingBracketBlock(e,i[1],n,o):e.getCommentFoldRange(n,o,-1)):void 0}}.call(t.prototype)});
//# sourceMappingURL=mode-json-min.js.map