/*! Fabrik */
var Flexie=function(win,doc){var FLX={},FLX_DOM_ID=0,FLX_DOM_ATTR="data-flexie-id",FLX_PARENT_ATTR="data-flexie-parent",SUPPORT,ENGINE,ENGINES={NW:{s:"*.Dom.select"},DOMAssistant:{s:"*.$",m:"*.DOMReady"},Prototype:{s:"$$",m:"document.observe",p:"dom:loaded",c:"document"},YAHOO:{s:"*.util.Selector.query",m:"*.util.Event.onDOMReady",c:"*.util.Event"},MooTools:{s:"$$",m:"window.addEvent",p:"domready"},Sizzle:{s:"*"},jQuery:{s:"*",m:"*(document).ready"},dojo:{s:"*.query",m:"*.addOnLoad"}},LIBRARY,PIXEL=/^-?\d+(?:px)?$/i,NUMBER=/^-?\d/,SIZES=/width|height|margin|padding|border/,MSIE=/(msie) ([\w.]+)/,WHITESPACE_CHARACTERS=/\t|\n|\r/g,RESTRICTIVE_PROPERTIES=/^max\-([a-z]+)/,PROTOCOL=/^https?:\/\//i,LEADINGTRIM=/^\s\s*/,TRAILINGTRIM=/\s\s*$/,ONLY_WHITESPACE=/^\s*$/,CSS_SELECTOR=/\s?(\#|\.|\[|\:(\:)?[^first\-(line|letter)|before|after]+)/g,EMPTY_STRING="",SPACE_STRING=" ",PLACEHOLDER_STRING="$1",PADDING_RIGHT="paddingRight",PADDING_BOTTOM="paddingBottom",PADDING_LEFT="paddingLeft",PADDING_TOP="paddingTop",BORDER_RIGHT="borderRightWidth",BORDER_BOTTOM="borderBottomWidth",BORDER_LEFT="borderLeftWidth",BORDER_TOP="borderTopWidth",HORIZONTAL="horizontal",VERTICAL="vertical",INLINE_AXIS="inline-axis",BLOCK_AXIS="block-axis",INHERIT="inherit",LEFT="left",END_MUSTACHE="}",PREFIXES=" -o- -moz- -ms- -webkit- -khtml- ".split(SPACE_STRING),DEFAULTS={orient:HORIZONTAL,align:"stretch",direction:INHERIT,pack:"start"},FLEX_BOXES=[],POSSIBLE_FLEX_CHILDREN=[],DOM_ORDERED,RESIZE_LISTENER,TRUE=!0,FALSE=!1,NULL=null,UNDEFINED,BROWSER={IE:function(){var e,t=win.navigator.userAgent,t=MSIE.exec(t.toLowerCase());return e=t?parseInt(t[2],10):e}()},selectivizrEngine;function trim(e){return e=e&&e.replace(LEADINGTRIM,EMPTY_STRING).replace(TRAILINGTRIM,EMPTY_STRING)}function forEach(e,t){var n,r,i=0,o=e?e.length:UNDEFINED;if(o===UNDEFINED){for(n in e)if(e.hasOwnProperty(n)&&t.call(e[n],n,e[n])===FALSE)break}else for(r=e[0];i<o&&t.call(r,i,r)!==FALSE;r=e[++i]);}function determineSelectorMethod(){var engines=ENGINES,method;return forEach(engines,function(engine,obj){if(win[engine]&&!method&&(method=eval(obj.s.replace("*",engine)),method))return ENGINE=engine,!1}),method}function addEvent(e,t){var n=win[e="on"+e];"function"!=typeof win[e]?win[e]=t:win[e]=function(){n&&n(),t()}}function attachLoadMethod(handler){ENGINE||(LIBRARY=determineSelectorMethod());var engines=ENGINES,method,caller,args;forEach(engines,function(engine,obj){if(win[engine]&&!method&&obj.m&&(method=eval(obj.m.replace("*",engine)),caller=obj.c?eval(obj.c.replace("*",engine)):win,args=[],method)&&caller)return obj.p&&args.push(obj.p),args.push(handler),method.apply(caller,args),!1}),method||addEvent("load",handler)}function buildSelector(e){var t=e.nodeName.toLowerCase();return e.id?t+="#"+e.id:e.FLX_DOM_ID&&(t+="["+FLX_DOM_ATTR+"='"+e.FLX_DOM_ID+"']"),t}function setFlexieId(e){e.FLX_DOM_ID||(FLX_DOM_ID+=1,e.FLX_DOM_ID=FLX_DOM_ID,e.setAttribute(FLX_DOM_ATTR,e.FLX_DOM_ID))}function buildSelectorTree(e){var n,r,i,o,a=[];return forEach((e=(e=e.replace(WHITESPACE_CHARACTERS,EMPTY_STRING)).replace(/\s?(\{|\:|\})\s?/g,PLACEHOLDER_STRING)).split(END_MUSTACHE),function(e,t){t&&(r=[t,END_MUSTACHE].join(EMPTY_STRING),r=/(\@media[^\{]+\{)?(.*)\{(.*)\}/.exec(r))&&r[3]&&(n=r[2],r=r[3].split(";"),o=[],forEach(r,function(e,t){(i=t.split(":")).length&&i[1]&&o.push({property:i[0],value:i[1]})}),n)&&o.length&&a.push({selector:n,properties:o})}),a}function findFlexboxElements(e){var i,o,a,t=/\s?,\s?/,c={},s={},l=function(e,t,n,r){var i={selector:trim(e),properties:[]};return forEach(t.properties,function(e,t){i.properties.push({property:trim(t.property),value:trim(t.value)})}),n&&r&&(i[n]=r),i},u=function(e,t,n,r){var i,o=(n&&r?c:s)[e];o?(forEach(t.properties,function(e,n){forEach(o.properties,function(e,t){if(n.property===t.property)return i=e,!1}),i?o.properties[i]=n:o.properties.push(n)}),n&&r&&(o[n]=r)):n&&r?c[e]=l(e,t,n,r):s[e]=l(e,t,NULL,NULL)};return forEach(e,function(e,r){forEach(trim(r.selector).replace(t,",").split(t),function(e,n){n=trim(n),forEach(r.properties,function(e,t){if(i=trim(t.property),o=trim(t.value),i)switch(a=i.replace("box-",EMPTY_STRING)){case"display":"box"===o&&u(n,r,NULL,NULL);break;case"orient":case"align":case"direction":case"pack":u(n,r,NULL,NULL);break;case"flex":case"flex-group":case"ordinal-group":u(n,r,a,o)}})})}),forEach(s,function(e,t){FLEX_BOXES.push(t)}),forEach(c,function(e,t){POSSIBLE_FLEX_CHILDREN.push(t)}),{boxes:FLEX_BOXES,children:POSSIBLE_FLEX_CHILDREN}}function matchFlexChildren(r,t,e){var i,o,a=[];return forEach(e,function(e,n){n.selector?(i=(i=t(n.selector))[0]?i:[i])[0]&&forEach(i,function(e,t){if(t.nodeName!==UNDEFINED)switch(t.nodeName.toLowerCase()){case"script":case"style":case"link":break;default:t.parentNode===r&&(setFlexieId(t),o={},forEach(n,function(e){o[e]=n[e]}),o.match=t,a.push(o))}}):(setFlexieId(n),a.push({match:n,selector:buildSelector(n)}))}),a}function getParams(n){return forEach(n,function(e,t){n[e]=t||DEFAULTS[e]}),n}function buildFlexieCall(n){var r,i,o,a,c,s,l,u,p,d,E,f,h,R,L,T={},S="["+FLX_PARENT_ATTR+"]";n&&(forEach(n.boxes,function(e,t){t.selector=trim(t.selector),r=t.selector,i=t.properties,c=s=l=u=p=NULL,forEach(i,function(e,t){if(o=trim(t.property),a=trim(t.value),o)switch(o.replace("box-",EMPTY_STRING)){case"display":"box"===a&&(c=a);break;case"orient":s=a;break;case"align":l=a;break;case"direction":u=a;break;case"pack":p=a}}),forEach((E=(d=LIBRARY)(t.selector))[0]?E:[E],function(e,t){t.nodeType&&(setFlexieId(t),f=matchFlexChildren(t,d,n.children),h={target:t,selector:r,properties:i,children:f,display:c,orient:s,align:l,direction:u,pack:p,nested:r+" "+S},(R=T[t.FLX_DOM_ID])?forEach(h,function(t,e){switch(t){case"selector":e&&!new RegExp(e).test(R[t])&&(R[t]+=", "+e);break;case"children":forEach(h[t],function(e,n){L=FALSE,forEach(R[t],function(e,t){n.match.FLX_DOM_ID===t.match.FLX_DOM_ID&&(L=TRUE)}),L||R[t].push(n)});break;default:e&&(R[t]=e)}}):(T[t.FLX_DOM_ID]=getParams(h),T[t.FLX_DOM_ID].target.setAttribute(FLX_PARENT_ATTR,TRUE)))})}),DOM_ORDERED=LIBRARY(S),FLEX_BOXES={},forEach(DOM_ORDERED,function(e,t){FLEX_BOXES[t.FLX_DOM_ID]=T[t.FLX_DOM_ID]}),forEach(FLEX_BOXES,function(e,t){"box"===t.display&&new FLX.box(t)}))}function calcPx(n,e,t){var t=t.replace(t.charAt(0),t.charAt(0).toUpperCase()),r=n["offset"+t]||0;return r&&forEach(e,function(e,t){t=parseFloat(n.currentStyle[t]),isNaN(t)||(r-=t)}),r}function getTrueValue(e,t){var n,r,t=e.currentStyle&&e.currentStyle[t],i=e.style;return!PIXEL.test(t)&&NUMBER.test(t)&&(n=i.left,r=e.runtimeStyle.left,e.runtimeStyle.left=e.currentStyle.left,i.left=t||0,t=i.pixelLeft+"px",i.left=n||0,e.runtimeStyle.left=r),t}function unAuto(e,t,n){switch(n){case"width":t=calcPx(e,[PADDING_LEFT,PADDING_RIGHT,BORDER_LEFT,BORDER_RIGHT],n);break;case"height":t=calcPx(e,[PADDING_TOP,PADDING_BOTTOM,BORDER_TOP,BORDER_BOTTOM],n);break;default:t=getTrueValue(e,n)}return t}function getPixelValue(e,t,n){return t=PIXEL.test(t)?t:"auto"===t||"medium"===t?unAuto(e,t,n):getTrueValue(e,n)}function getComputedStyle(e,t,n){if(e!==UNDEFINED)return e=win.getComputedStyle?win.getComputedStyle(e,NULL)[t]:SIZES.test(t)?getPixelValue(e,e&&e.currentStyle?e.currentStyle[t]:0,t):e.currentStyle[t],e=n&&(e=parseInt(e,10),isNaN(e))?0:e}function clientWidth(e){return e.innerWidth||e.clientWidth}function clientHeight(e){return e.innerHeight||e.clientHeight}function appendProperty(e,n,r,i){var o=[];forEach(PREFIXES,function(e,t){o.push((i?t:EMPTY_STRING)+n+":"+(i?EMPTY_STRING:t)+r)}),e.style.cssText+=o.join(";")}function appendPixelValue(e,n,r){forEach(e&&e[0]?e:[e],function(e,t){t&&t.style&&(t.style[n]=r?r+"px":EMPTY_STRING)})}function calculateSpecificity(e){var e=e.replace(CSS_SELECTOR,function(e,t){return"%"+t}).replace(/\s|\>|\+|\~/g,"%").split(/%/g),n={_id:100,_class:10,_tag:1},r=0;return forEach(e,function(e,t){/#/.test(t)?r+=n._id:/\.|\[|\:/.test(t)?r+=n._class:/[a-zA-Z]+/.test(t)&&(r+=n._tag)}),r}function filterDuplicates(e,t,r){var i,o=[],a=(r?"ordinal":"flex")+"Specificity";return forEach(e,function(e,n){(!r&&n.flex||r&&n["ordinal-group"])&&(n[a]=n[a]||calculateSpecificity(n.selector),i=FALSE,forEach(o,function(e,t){if(t.match===n.match)return t[a]<n[a]&&(o[e]=n),i=TRUE,FALSE}),i||o.push(n))}),o}function createMatchMatrix(t,e,r){var i,o={},n=[],a=0,c="ordinal-group",s="data-"+c;return t=filterDuplicates(t,e,r),forEach(e,function(e,n){forEach(t,function(e,t){r?(i=t[c]||"1",t.match===n&&(t.match.setAttribute(s,i),o[i]=o[i]||[],o[i].push(t))):(i=t.flex||"0",t.match===n&&(!t[i]||t[i]&&parseInt(t[i],10)<=1)&&(a+=parseInt(i,10),o[i]=o[i]||[],o[i].push(t)))}),r&&!n.getAttribute(s)&&(i="1",n.setAttribute(s,i),o[i]=o[i]||[],o[i].push({match:n}))}),forEach(o,function(e){n.push(e)}),n.sort(function(e,t){return t-e}),{keys:n,groups:o,total:a}}function attachResizeListener(e,t){var n,r,i,o,a,c,s,l,u,p,d;RESIZE_LISTENER||(a=doc.body,c=doc.documentElement,l="innerWidth",u="innerHeight",p="clientWidth",d="clientHeight",addEvent("resize",function(){s&&window.clearTimeout(s),s=window.setTimeout(function(){i=win[l]||c[l]||c[p]||a[p],o=win[u]||c[u]||c[d]||a[d],n===i&&r===o||(FLX.updateInstance(NULL,NULL),n=i,r=o)},250)}),RESIZE_LISTENER=TRUE)}function cleanPositioningProperties(e){var n,r;forEach(e,function(e,t){n=t.style.width,r=t.style.height,t.style.cssText=EMPTY_STRING,t.style.width=n,t.style.height=r})}function sanitizeChildren(e,t){for(var n,r=[],i=0,o=t.length;i<o;i++)if(n=t[i])switch(n.nodeName.toLowerCase()){case"script":case"style":case"link":break;default:1===n.nodeType?r.push(n):3===n.nodeType&&(n.isElementContentWhitespace||ONLY_WHITESPACE.test(n.data))&&(e.removeChild(n),i--)}return r}function parentFlex(e){for(var t,n=0,r=e.parentNode;r.FLX_DOM_ID;)n+=createMatchMatrix(FLEX_BOXES[r.FLX_DOM_ID].children,sanitizeChildren(r,r.childNodes),NULL).total,t=TRUE,r=r.parentNode;return{nested:t,flex:n}}function dimensionValues(e,n){var r,e=e.parentNode;return e.FLX_DOM_ID&&forEach(FLEX_BOXES[e.FLX_DOM_ID].properties,function(e,t){if(new RegExp(n).test(t.property))return r=TRUE,FALSE}),r}function updateChildValues(n){return n.flexMatrix&&forEach(n.children,function(e,t){t.flex=n.flexMatrix[e]}),n.ordinalMatrix&&forEach(n.children,function(e,t){t["ordinal-group"]=n.ordinalMatrix[e]}),n}function ensureStructuralIntegrity(e,t){var n=e.target;return n.FLX_DOM_ID||(n.FLX_DOM_ID=n.FLX_DOM_ID||++FLX_DOM_ID),e.nodes||(e.nodes=sanitizeChildren(n,n.childNodes)),e.selector||(e.selector=buildSelector(n),n.setAttribute(FLX_PARENT_ATTR,TRUE)),e.properties||(e.properties=[]),e.children||(e.children=matchFlexChildren(n,LIBRARY,sanitizeChildren(n,n.childNodes))),e.nested||(e.nested=e.selector+" ["+FLX_PARENT_ATTR+"]"),e.target=n,e._instance=t,e}return selectivizrEngine=function(){var s=/(\/\*[^*]*\*+([^\/][^*]*\*+)*\/)\s*?/g,l=/@import\s*(?:(?:(?:url\(\s*(['"]?)(.*)\1)\s*\))|(?:(['"])(.*)\3))\s*([^;]*);/g,u=/(behavior\s*?:\s*)?\burl\(\s*(["']?)(?!data:)([^"')]+)\2\s*\)/g,t=/((?:^|(?:\s*})+)(?:\s*@media[^{]+{)?)\s*([^\{]*?[\[:][^{]+)/g,r=/([(\[+~])\s+/g,i=/\s+([)\]+~])/g,n=/\s+/g,o=/^\s*((?:[\S\s]*\S)?)\s*$/;function a(e){return e.replace(o,PLACEHOLDER_STRING).replace(n,SPACE_STRING)}function c(e){return e.replace(t,function(e,t,n){n=n.split(",");return forEach(n,function(e,t){a(t.replace(r,PLACEHOLDER_STRING).replace(i,PLACEHOLDER_STRING))}),t+n.join(",")})}function p(e){var t=function(){if(win.XMLHttpRequest)return new win.XMLHttpRequest;try{return new win.ActiveXObject("Microsoft.XMLHTTP")}catch(e){return NULL}}();return t.open("GET",e,FALSE),t.send(),200===t.status?t.responseText:EMPTY_STRING}function d(e,t){if(e)return PROTOCOL.test(e)?n(t)===n(e)?e:NULL:"/"===e.charAt(0)?n(t)+e:(t=t.split("?")[0],(t="?"!==e.charAt(0)&&"/"!==t.charAt(t.length-1)?t.substring(0,t.lastIndexOf("/")+1):t)+e);function n(e){return e.substring(0,e.indexOf("/",8))}}return function(){for(var e,t,n=doc.getElementsByTagName("BASE"),r=(0<n.length?n[0]:doc.location).href,i=0,o=doc.styleSheets.length;i<o;i++)(e=doc.styleSheets[i])&&e.href!==NULL&&(e=d(e.href,r))&&(t=findFlexboxElements(buildSelectorTree(c(function a(c){return c?p(c).replace(s,EMPTY_STRING).replace(l,function(e,t,n,r,i,o){return n=a(d(n||i,c)),o?"@media "+o+" {"+n+"}":n}).replace(u,function(e,t,n,r){return n=n||EMPTY_STRING,t?e:" url("+n+d(r,c)+n+") "}):EMPTY_STRING}(e)))));buildFlexieCall(t)}}(),FLX.box=function(e){return this.renderModel(e)},FLX.box.prototype={properties:{boxModel:function(n,e,t){var r,i,o;n.style.display="block",8===BROWSER.IE&&(n.style.overflow="hidden"),t.cleared||(selectors=t.selector.split(/\s?,\s?/),r=(r=doc.styleSheets)[r.length-1],i="padding-top:"+(getComputedStyle(n,PADDING_TOP,NULL)||"0.1px;"),o=["content: '.'","display: block","height: 0","overflow: hidden"].join(";"),forEach(selectors,function(e,t){r.addRule?BROWSER.IE<8?(n.style.zoom="1",6===BROWSER.IE?r.addRule(t.replace(/\>|\+|\~/g,""),i+"zoom:1;",0):7===BROWSER.IE&&r.addRule(t,i+"display:inline-block;",0)):(r.addRule(t,i,0),r.addRule(t+":before",o,0),r.addRule(t+":after",o+";clear:both;",0)):r.insertRule&&(r.insertRule(t+"{"+i+"}",0),r.insertRule(t+":after{"+o+";clear:both;}",0))}),t.cleared=TRUE)},boxDirection:function(n,e,r){var i;("reverse"===r.direction&&!r.reversed||"normal"===r.direction&&r.reversed)&&(forEach(e=e.reverse(),function(e,t){n.appendChild(t)}),forEach(LIBRARY(r.nested),function(e,t){(i=FLEX_BOXES[t.FLX_DOM_ID])&&i.direction===INHERIT&&(i.direction=r.direction)}),r.reversed=!r.reversed)},boxOrient:function(e,t,n){var r={pos:"marginLeft",opp:"marginRight",dim:"width",out:"offsetWidth",func:clientWidth,pad:[PADDING_LEFT,PADDING_RIGHT,BORDER_LEFT,BORDER_RIGHT]},i={pos:"marginTop",opp:"marginBottom",dim:"height",out:"offsetHeight",func:clientHeight,pad:[PADDING_TOP,PADDING_BOTTOM,BORDER_TOP,BORDER_BOTTOM]};switch(SUPPORT||forEach(t,function(e,t){t.style[9<=BROWSER.IE?"cssFloat":"styleFloat"]=LEFT,n.orient!==VERTICAL&&n.orient!==BLOCK_AXIS||(t.style.clear=LEFT),6===BROWSER.IE&&(t.style.display="inline")}),n.orient){case VERTICAL:case BLOCK_AXIS:this.props=i,this.anti=r;break;default:this.props=r,this.anti=i}},boxOrdinalGroup:function(r,t,n){var e,i;t.length&&(e=function(e){e=e.keys;forEach(n.reversed?e:e.reverse(),function(e,n){forEach(t,function(e,t){n===t.getAttribute("data-ordinal-group")&&r.appendChild(t)})})},1<(i=createMatchMatrix(n.children,t,TRUE)).keys.length)&&e(i)},boxFlex:function(i,t,e){var n,r,o,a,s=this;t.length&&(n=function(e){var n,r=e.groups;forEach(e.keys,function(e,t){forEach(r[t],function(e,t){n=NULL,forEach(t.properties,function(e,t){RESTRICTIVE_PROPERTIES.test(t.property)&&(n=parseFloat(t.value))}),(!n||t.match[s.props.out]>n)&&appendPixelValue(t.match,s.props.pos,NULL)})})},r=function(e){var n,r=0;return forEach(t,function(e,n){r+=getComputedStyle(n,s.props.dim,TRUE),forEach(s.props.pad,function(e,t){r+=getComputedStyle(n,t,TRUE)}),r=(r+=getComputedStyle(n,s.props.pos,TRUE))+getComputedStyle(n,s.props.opp,TRUE)}),n=i[s.props.out]-r,forEach(s.props.pad,function(e,t){n-=getComputedStyle(i,t,TRUE)}),e=n/e.total,{whitespace:n,ration:e}},o=function(e,t){var r,i,o,a=e.groups,e=e.keys,c=t.ration;forEach(e,function(e,n){r=c*n,forEach(a[n],function(e,t){t.match&&(i=t.match.getAttribute("data-flex"),o=t.match.getAttribute("data-specificity"),!i||o<=t.flexSpecificity)&&(t.match.setAttribute("data-flex",n),t.match.setAttribute("data-specificity",t.flexSpecificity),i=getComputedStyle(t.match,s.props.dim,TRUE),o=Math.max(0,i+r),appendPixelValue(t.match,s.props.dim,o))})})},(a=createMatchMatrix(e.children,t,NULL)).total)&&(e.hasFlex=TRUE,n(a),o(a,r(a)))},boxAlign:function(i,e,t){var o,a,c=this,n=parentFlex(i);switch(SUPPORT||n.flex||t.orient!==VERTICAL&&t.orient!==BLOCK_AXIS||(dimensionValues(i,c.anti.dim)||appendPixelValue(i,c.anti.dim,NULL),appendPixelValue(e,c.anti.dim,NULL)),o=i[c.anti.out],forEach(c.anti.pad,function(e,t){o-=getComputedStyle(i,t,TRUE)}),t.align){case"start":break;case"end":forEach(e,function(e,t){a=o-t[c.anti.out],a-=getComputedStyle(t,c.anti.opp,TRUE),appendPixelValue(t,c.anti.pos,a)});break;case"center":forEach(e,function(e,t){a=(o-t[c.anti.out])/2,appendPixelValue(t,c.anti.pos,a)});break;default:forEach(e,function(e,n){switch(n.nodeName.toLowerCase()){case"button":case"input":case"select":break;default:var r=0;forEach(c.anti.pad,function(e,t){r=(r+=getComputedStyle(n,t,TRUE))+getComputedStyle(i,t,TRUE)}),n.style[c.anti.dim]="100%",a=n[c.anti.out]-r,appendPixelValue(n,c.anti.dim,NULL),a=o,a-=getComputedStyle(n,c.anti.pos,TRUE),forEach(c.anti.pad,function(e,t){a-=getComputedStyle(n,t,TRUE)}),a-=getComputedStyle(n,c.anti.opp,TRUE),a=Math.max(0,a),appendPixelValue(n,c.anti.dim,a)}})}},boxPack:function(n,e,t){var r,i,o,a=this,c=0,s=0,l=e.length-1;switch(forEach(e,function(e,t){c=(c=(c+=t[a.props.out])+getComputedStyle(t,a.props.pos,TRUE))+getComputedStyle(t,a.props.opp,TRUE)}),r=getComputedStyle(e[0],a.props.pos,TRUE),i=n[a.props.out]-c,forEach(a.props.pad,function(e,t){i-=getComputedStyle(n,t,TRUE)}),i<0&&(i=Math.max(0,i)),t.pack){case"end":appendPixelValue(e[0],a.props.pos,s+r+i);break;case"center":s&&(s/=2),appendPixelValue(e[0],a.props.pos,s+r+Math.floor(i/2));break;case"justify":for(var u,p,d=(u=Math.floor((s+i)/l))*l-i,E=e.length-1;E;)p=u,d&&(p++,d++),p=getComputedStyle(o=e[E],a.props.pos,TRUE)+p,appendPixelValue(o,a.props.pos,p),E--}n.style.overflow=""}},setup:function(n,e,r){var t,i,o=this;n&&e&&r&&(SUPPORT&&SUPPORT.partialSupport?(t=createMatchMatrix(r.children,e,NULL),i=parentFlex(n),e=sanitizeChildren(n,n.childNodes),o.properties.boxOrient.call(o,n,e,r),t.total&&LIBRARY(r.nested).length||("stretch"!==r.align||SUPPORT.boxAlignStretch||i.nested&&i.flex||o.properties.boxAlign.call(o,n,e,r),"justify"!==r.pack)||SUPPORT.boxPackJustify||t.total||o.properties.boxPack.call(o,n,e,r)):SUPPORT||forEach(o.properties,function(e,t){t.call(o,n,sanitizeChildren(n,n.childNodes),r)}))},trackDOM:function(e){attachResizeListener(this,e)},updateModel:function(e){var t=e.target,n=e.nodes;cleanPositioningProperties(n),(e.flexMatrix||e.ordinalMatrix)&&(e=updateChildValues(e)),this.setup(t,n,e),this.bubbleUp(t,e)},renderModel:function(e){var t=this,n=e.target,r=n.childNodes;return!(!n.length&&!r)&&(e=ensureStructuralIntegrity(e,this),t.updateModel(e),win.setTimeout(function(){t.trackDOM(e)},0),t)},bubbleUp:function(e,t){for(var n,r=t.target.parentNode;r;)(n=FLEX_BOXES[r.FLX_DOM_ID])&&(cleanPositioningProperties(n.nodes),this.setup(n.target,n.nodes,n)),r=r.parentNode}},FLX.updateInstance=function(e,t){e?(e=FLEX_BOXES[e.FLX_DOM_ID])?e._instance.updateModel(e):new FLX.box(t):forEach(FLEX_BOXES,function(e,t){t._instance&&t._instance.updateModel(t)})},FLX.getInstance=function(e){return FLEX_BOXES[e.FLX_DOM_ID]},FLX.destroyInstance=function(e){var n=function(e){e.target.FLX_DOM_ID=NULL,e.target.style.cssText=EMPTY_STRING,forEach(e.children,function(e,t){t.match.style.cssText=EMPTY_STRING})};e?(e=FLEX_BOXES[e.FLX_DOM_ID])&&n(e):(forEach(FLEX_BOXES,function(e,t){n(t)}),FLEX_BOXES=[])},FLX.flexboxSupport=function(){var e,n,r={},t=doc.createElement("flxbox"),i='<b style="margin: 0; padding: 0; display:block; width: 10px; height:50px"></b>';return t.style.width=t.style.height="100px",t.innerHTML=i+i+i,appendProperty(t,"display","box",NULL),appendProperty(t,"box-align","stretch",TRUE),appendProperty(t,"box-pack","justify",TRUE),doc.body.appendChild(t),e=t.firstChild.offsetHeight,forEach({boxAlignStretch:function(){return 100===e},boxPackJustify:function(){var n=0;return forEach(t.childNodes,function(e,t){n+=t.offsetLeft}),135===n}},function(e,t){(n=t())||(r.partialSupport=TRUE),r[e]=n}),doc.body.removeChild(t),~t.style.display.indexOf("box")?r:FALSE},FLX.init=function(){FLX.flexboxSupported=SUPPORT=FLX.flexboxSupport(),SUPPORT&&!SUPPORT.partialSupport||!LIBRARY||selectivizrEngine()},FLX.version="1.0.3",attachLoadMethod(FLX.init),FLX}(this,document);
//# sourceMappingURL=flexie-min.js.map